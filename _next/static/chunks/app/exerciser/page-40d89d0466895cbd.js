(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{7278:function(e,s,t){Promise.resolve().then(t.bind(t,8873))},8873:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var n=t(7437),d=t(2265);function i(e){let[s,t]=(0,d.useState)(""),[i,r]=(0,d.useState)(""),l=()=>{r(new Date().toTimeString().slice(0,5))},c=()=>{t(new Date().toTimeString().slice(0,5))};return(0,d.useEffect)(()=>{l(),c();let e=setInterval(l,6e4);return()=>{clearInterval(e)}},[]),(0,n.jsxs)("div",{class:"container bg-blue-100 rounded-md p-5 mb-5 shadow-sm",children:[(0,n.jsxs)("div",{class:"bg-blue-200 rounded-md my-1 px-2 shadow-sm",children:[(0,n.jsxs)("div",{class:"font-bold text-3xl",children:[" ",s," "]}),(0,n.jsx)("div",{children:"Session Start"})]}),(0,n.jsxs)("div",{class:"bg-blue-200 rounded-md my-1 px-2 shadow-sm",children:[(0,n.jsxs)("div",{class:"font-bold text-3xl",children:[" ",i," "]}),(0,n.jsx)("div",{children:"Current Time"})]}),(0,n.jsx)("button",{class:"bg-slate-300 my-1 p-2 rounded-sm",onClick:c,children:"New Session"})]})}function r(e){let[s,t]=(0,d.useState)(0),i=()=>{t(e=>((e+1)%30==0&&document.getElementById("myAudio").play(),e+1))},r=()=>{t(0)},l=e=>{e.preventDefault(),82==e.keyCode&&r()};return(0,d.useEffect)(()=>{let e=setInterval(i,1e3);return document.addEventListener("keydown",l),()=>{clearInterval(e),document.removeEventListener("keydown",l)}},[]),(0,d.useEffect)(()=>{r()},[e.reset]),(0,n.jsxs)("div",{class:"container bg-blue-100 rounded-md p-5 mb-5 shadow-sm",children:[(0,n.jsx)("audio",{id:"myAudio",children:(0,n.jsx)("source",{src:"/start.mp3",type:"audio/mpeg"})}),(0,n.jsxs)("div",{class:"font-bold text-3xl",children:[s," "]}),(0,n.jsx)("div",{children:"seconds"}),(0,n.jsx)("button",{class:"bg-slate-300 py-1 px-4 rounded-sm",onClick:r,children:"Reset Timer"})]})}function l(e){let[s,t]=(0,d.useState)(e.num_sets),[i,r]=(0,d.useState)(e.is_active),l=function(){t(e=>e+1),e.set_incrementer(1)},c=(0,d.useRef)(i),o=e=>{c.current=e,r(e)},u=e=>{e.preventDefault(),32==e.keyCode&&c.current&&l()};(0,d.useEffect)(()=>{o(e.is_active)},[e.is_active]),(0,d.useEffect)(()=>(document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}),[]);let a="bg-slate-200 rounded-sm p-2 mb-1 shadow-sm";return(0,n.jsx)("li",{className:e.is_active?"active "+a:a,onClick:e.set_active_method,children:(0,n.jsxs)("div",{children:["Exercise ",e.ex_number," - ",s," sets",(0,n.jsx)("button",{class:"bg-slate-300 font-bold py-1 px-2 mx-2 rounded",onClick:l,children:" + "}),(0,n.jsx)("button",{class:"bg-slate-300 font-bold py-1 px-2 mx-2 rounded",onClick:function(){t(e=>e-1),e.set_incrementer(-1)},children:" - "})]})})}function c(){let[e,s]=(0,d.useState)([0]),[t,c]=(0,d.useState)(0),[o,u]=(0,d.useState)(!1),a=()=>{s(e=>[...e,0]),u(e=>!e)},m=(e,t)=>{s(s=>(s[e]+=t,s)),u(e=>!e)},x=e=>{console.log("deleting",e),s(s=>(console.log(s),s.splice(e,1),s))},v=e=>{e.preventDefault(),13==e.keyCode&&a()},f=e=>{c(e)};return(0,d.useEffect)(()=>{let e=null;return navigator.wakeLock.request("screen").then(s=>{console.log("wakelock acquired"),e=s}),document.addEventListener("keydown",v),function(){document.removeEventListener("keydown",v),null!=e&&e.release().then(()=>{e=null})}},[]),(0,d.useEffect)(()=>{c(e.length-1)},[e]),(0,n.jsxs)("div",{class:"bg-slate-50 rounded-lg p-10 shadow-md flex max-w-2xl flex-row mx-auto my-auto",children:[(0,n.jsxs)("div",{class:"basis-2/3 mx-1",children:[(0,n.jsx)(r,{reset:o}),(0,n.jsx)("ul",{children:e.map((e,s)=>{let d=s===t;return(0,n.jsx)(l,{is_active:d,ex_number:s+1,num_sets:e,set_incrementer:()=>m(s),exercise_deleter:()=>x(s),set_active_method:()=>f(s)},s)})}),(0,n.jsx)("button",{class:"bg-slate-300 py-1 px-4 rounded-sm",onClick:a,children:"New Exercise"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"ENTER - add exercise"}),(0,n.jsx)("div",{children:"SPACE - increment set num of active exercise"}),(0,n.jsx)("div",{children:"R - reset timer"})]})]}),(0,n.jsx)("div",{class:"basis-1/3 mx-1",children:(0,n.jsx)(i,{})})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=7278)}),_N_E=e.O()}]);